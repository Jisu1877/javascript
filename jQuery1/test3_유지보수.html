<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test3.html(상품가격계산)</title>
    <!-- <script src="../js/jquery-3.6.0.min.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        'use strict';
        // jQuery 사용법 : $("선택자").이벤트 혹은 다른 명령(function(매개변수){수행할 내용});
        // 선택자 : 태그, 아이디, 클래스 선택자..
        // jQuery(document).ready(function(){});
        $(document).ready(function(){ // document는 선택자가 아니라 명령어이다. 그래서 ""로 둘러싸지 않음.
            $("#price").css("color", "red");
            $("#ea").css("fontSize", "20pt");

            $("#calcBtn").click(function(){
                // 자바스크립트 형식
                // let price = document.getElementById("price").value;
                // let ea = document.getElementById("ea").value;
                // let res = price * ea;
                // document.getElementById("demo").innerHTML = res;

                //jQuery 형식
                // let price = $("#price").val();
                let price = Number($("#price").val()); //val() 은 값을 가져오기.
                let ea = Number($("#ea").val());

                if(isNaN(price)) {
                    alert("금액은 숫자로 입력하세요.");
                    $("#price").select();
                    $("#price").focus();
                }

                // let res = price * ea;
                let res = numberWithCommas(price * ea);
                $("#demo").html(res);
            });

            //유지보수는 항상 뒤에 넣어야 한다.
            $("#demo").css("color", "#00f").css("fontSize", "25pt");
        });

        function numberWithCommas(num) { 
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
    </script>

</head>
<body>
    <p><br/></p>
    <div class="container">
        <h2>상품 가격 </h2>
        <p>가격<input type="text" name="price" id="price" value="25000" autofocus/>
        </p>
        <p>수량<input type="number" name="ea" id="ea" value="2"/>
        </p>
        <p><input type="button" value="계산" id="calcBtn"/></p>
        <hr/>
        <div id="demo"></div>
        <hr/>
    </div>
</body>
</html>